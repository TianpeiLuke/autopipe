<!DOCTYPE html>
<html>
<head>
    <title>Alignment Validation Report - currency_conversion</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .header { background-color: #f0f0f0; padding: 20px; border-radius: 5px; }
        .summary { display: flex; justify-content: space-around; margin: 20px 0; }
        .metric { text-align: center; padding: 10px; }
        .metric h3 { margin: 0; font-size: 2em; }
        .metric p { margin: 5px 0; color: #666; }
        .passing { color: #28a745; }
        .failing { color: #dc3545; }
        .warning { color: #ffc107; }
        .level-section { margin: 20px 0; border: 1px solid #ddd; border-radius: 5px; }
        .level-header { background-color: #e9ecef; padding: 10px; font-weight: bold; }
        .test-result { padding: 10px; border-bottom: 1px solid #eee; }
        .test-passed { border-left: 4px solid #28a745; }
        .test-failed { border-left: 4px solid #dc3545; }
        .issue { margin: 5px 0; padding: 5px; background-color: #f8f9fa; border-radius: 3px; }
        .critical { border-left: 4px solid #dc3545; }
        .error { border-left: 4px solid #fd7e14; }
        .warning { border-left: 4px solid #ffc107; }
        .info { border-left: 4px solid #17a2b8; }
        .metadata { margin: 20px 0; padding: 15px; background-color: #f8f9fa; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Alignment Validation Report</h1>
        <h2>Script: currency_conversion</h2>
        <p>Generated: 2025-08-09T00:12:36.518935</p>
        <p>Overall Status: <span class="failing">FAILING</span></p>
    </div>
    
    <div class="summary">
        <div class="metric">
            <h3>25</h3>
            <p>Total Issues</p>
        </div>
        <div class="metric">
            <h3>0</h3>
            <p>Critical Issues</p>
        </div>
        <div class="metric">
            <h3>8</h3>
            <p>Error Issues</p>
        </div>
        <div class="metric">
            <h3>15</h3>
            <p>Warning Issues</p>
        </div>
    </div>
    
    <div class="level-section">
        <div class="level-header">Alignment Validation Results</div>
        
            <div class="test-result test-failed">
                <h4>Level 1: Script ↔ Contract</h4>
                <p>Status: FAILED</p>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Script uses logical name not in contract: data
                    <br><em>Recommendation: Add logical name data to contract or update script</em>
                </div>
                
                <div class="issue error">
                    <strong>ERROR:</strong> Contract declares argument not defined in script: job-type
                    <br><em>Recommendation: Add argument parser for job-type in script</em>
                </div>
                
                <div class="issue error">
                    <strong>ERROR:</strong> Contract declares argument not defined in script: currency-col
                    <br><em>Recommendation: Add argument parser for currency-col in script</em>
                </div>
                
                <div class="issue error">
                    <strong>ERROR:</strong> Contract declares argument not defined in script: n-workers
                    <br><em>Recommendation: Add argument parser for n-workers in script</em>
                </div>
                
                <div class="issue error">
                    <strong>ERROR:</strong> Contract declares argument not defined in script: enable-conversion
                    <br><em>Recommendation: Add argument parser for enable-conversion in script</em>
                </div>
                
                <div class="issue error">
                    <strong>ERROR:</strong> Contract declares argument not defined in script: default-currency
                    <br><em>Recommendation: Add argument parser for default-currency in script</em>
                </div>
                
                <div class="issue error">
                    <strong>ERROR:</strong> Contract declares argument not defined in script: skip-invalid-currencies
                    <br><em>Recommendation: Add argument parser for skip-invalid-currencies in script</em>
                </div>
                
                <div class="issue error">
                    <strong>ERROR:</strong> Contract declares argument not defined in script: marketplace-id-col
                    <br><em>Recommendation: Add argument parser for marketplace-id-col in script</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Script defines argument not in contract: default_currency
                    <br><em>Recommendation: Add default_currency to contract arguments or remove from script</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Script defines argument not in contract: currency_col
                    <br><em>Recommendation: Add currency_col to contract arguments or remove from script</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Script defines argument not in contract: test_val_ratio
                    <br><em>Recommendation: Add test_val_ratio to contract arguments or remove from script</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Script defines argument not in contract: train_ratio
                    <br><em>Recommendation: Add train_ratio to contract arguments or remove from script</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Script defines argument not in contract: job_type
                    <br><em>Recommendation: Add job_type to contract arguments or remove from script</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Script defines argument not in contract: enable_conversion
                    <br><em>Recommendation: Add enable_conversion to contract arguments or remove from script</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Script defines argument not in contract: skip_invalid_currencies
                    <br><em>Recommendation: Add skip_invalid_currencies to contract arguments or remove from script</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Script defines argument not in contract: marketplace_id_col
                    <br><em>Recommendation: Add marketplace_id_col to contract arguments or remove from script</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Script defines argument not in contract: n_workers
                    <br><em>Recommendation: Add n_workers to contract arguments or remove from script</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Contract declares input not read by script: /opt/ml/processing/input/data
                    <br><em>Recommendation: Either read /opt/ml/processing/input/data in script or remove from contract inputs</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Contract declares output not written by script: /opt/ml/processing/output
                    <br><em>Recommendation: Either write to /opt/ml/processing/output in script or remove from contract outputs</em>
                </div>
                
            </div>
            
            <div class="test-result test-passed">
                <h4>Level 2: Contract ↔ Specification</h4>
                <p>Status: PASSED</p>
                
            </div>
            
            <div class="test-result test-failed">
                <h4>Level 3: Specification ↔ Dependencies</h4>
                <p>Status: FAILED</p>
                
                <div class="issue error">
                    <strong>ERROR:</strong> Cannot resolve dependency: data_input
                    <br><em>Recommendation: Create a step that produces output data_input or remove dependency</em>
                </div>
                
            </div>
            
            <div class="test-result test-passed">
                <h4>Level 4: Builder ↔ Configuration</h4>
                <p>Status: PASSED</p>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Required configuration field not accessed in builder: marketplace_info
                    <br><em>Recommendation: Access required field marketplace_info in builder or make it optional</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Required configuration field not accessed in builder: label_field
                    <br><em>Recommendation: Access required field label_field in builder or make it optional</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Required configuration field not accessed in builder: marketplace_id_col
                    <br><em>Recommendation: Access required field marketplace_id_col in builder or make it optional</em>
                </div>
                
                <div class="issue warning">
                    <strong>WARNING:</strong> Required configuration field not accessed in builder: currency_conversion_dict
                    <br><em>Recommendation: Access required field currency_conversion_dict in builder or make it optional</em>
                </div>
                
                <div class="issue info">
                    <strong>INFO:</strong> Builder has required fields but no explicit validation logic detected
                    <br><em>Recommendation: Consider adding explicit validation logic for required configuration fields</em>
                </div>
                
            </div>
            
    </div>
    
    <div class="metadata">
        <h3>Metadata</h3>
        <p><strong>Script Path:</strong> /Users/tianpeixie/github_workspace/cursus/src/cursus/steps/scripts/currency_conversion.py</p>
        <p><strong>Contract Mapping:</strong> currency_conversion_contract</p>
        <p><strong>Validation Timestamp:</strong> 2025-08-09T00:12:36.518935</p>
        <p><strong>Validator Version:</strong> 1.0.0</p>
    </div>
</body>
</html>